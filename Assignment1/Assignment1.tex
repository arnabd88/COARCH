\documentclass{tufte-handout}

\title{Partial Differential Equations: An Overview\thanks{CS 6220: Spring 2018: SoC, UoU}}
  
  \author[]{Arnab Das, u1014840}
  
  %\date{28 March 2010} % without \date command, current date is supplied
  
  %\geometry{showframe} % display margins for debugging page layout
  
  \input{preamble}
  
  \begin{document}
  
  \maketitle% this prints the handout title, author, and date
  

 \setcounter{secnumdepth}{1}


\section{$\textbf{1. Summarizing Performance Numbers}$}
	 \paragraph{Execution Time} To find the system with the least execution time, we consider the execution times in the $\textbf{BASE}$ system as reference to relativise how fast or how slow the benchmarks programs execute in the other systems. To do this, consider the execution time encountered in the $\textbf{BASE}$ system as the reference for the corresponding benchmark program, and divide the execution numbers from the other system by the reference value. Hence, the reciprocal of the execution number in the $\textbf{BASE}$ system serves as the weights as shown in Table ~\ref{tab:exec-time}. The $\textbf{weighted sum}$(Wsum) is evaluated as:
		\[ Wsum = \dfrac{1}{n} \sum_{i=1}^{n=4} w_i x_i\]
	Thus the system $\textbf{NEW3}$ has the least execution  time, considering they are equally probable to be executed. Note that the $\textbf{Wsum}$ values do not have any unit and is a relative quantity with respect to that of $\textbf{BASE}$.

	\begin{table}[!h]
	    \centering
	    \fontfamily{ppl}\selectfont
		\renewcommand{\arraystretch}{3.0}
		\label{tab:exec-time}
	    \begin{tabular}{c|c|c|c|c|c}
	      \toprule
		  \multicolumn{6}{|c|}{Execution Times(S)}  \\
	      \midrule 
		  $\textbf{System}$ & $\textbf{A}$ & $\textbf{B}$ & $\textbf{C}$ & $\textbf{D}$ & $\textbf{WSum}$ \\  % = \dfrac{1}{4}\sum_{i=1}^4 w_i x_i$ 
		  $\textbf{BASE}$ & $\dfrac{3}{3}=1.00$ & $\dfrac{2.5}{2.5}=1.0$ & $\dfrac{1}{1} = 1.0$ & $\dfrac{12}{12} = 1.0$ & 1.0 \\ 
		  $\textbf{NEW1}$ & $\dfrac{7}{3}=2.33$ & $\dfrac{3}{2.5} = 1.2$ & $\dfrac{5}{1} = 5.0$ & $\dfrac{1}{12} = 0.08$ & $2.15$ \\ 
		  $\textbf{NEW2}$ & $\dfrac{2}{3}=0.67$ & $\dfrac{1}{2.5} = 0.4$ & $\dfrac{3}{1} = 3.0$ & $\dfrac{8}{12} = 0.67$ & $1.1825$ \\ 
		  $\textbf{NEW3}$ & $\dfrac{1}{3}=0.33$ & $\dfrac{3}{2.5} = 1.2$ & $\dfrac{2}{1} = 2.0$ & $\dfrac{13}{12} = 1.08$ & $1.15$ \\
	      \bottomrule
	    \end{tabular}
	    \caption{ Relativise execution times }
	  \end{table}

	  \paragraph{Energy: } Similarly, for the energy table we relativise the energy conumption values of the benchmark programs on the new system with respect to the $\textbf{BASE}$ system by taking it as the reference. The evaluations are shown in the table ~\ref{tab:exec-energy}. 
	
	\begin{table}[!ht]
	    \centering
	    \fontfamily{ppl}\selectfont
		\renewcommand{\arraystretch}{3.0}
		\label{tab:exec-energy}
	    \begin{tabular}{c|c|c|c|c|c}
	      \toprule
		  \multicolumn{6}{|c|}{System Energy(J)}  \\
	      \midrule 
		  $\textbf{System}$ & $\textbf{A}$ & $\textbf{B}$ & $\textbf{C}$ & $\textbf{D}$ & $\textbf{WSum}$ \\  % = \dfrac{1}{4}\sum_{i=1}^4 w_i x_i$ 
		  $\textbf{BASE}$ & $\dfrac{20}{20}=1.00$ & $\dfrac{40}{40} = 1.00$ & $\dfrac{50}{50} = 1.00$ & $\dfrac{15}{15}$ & 1 \\ 
		  $\textbf{NEW1}$ & $\dfrac{10}{20}=0.50$ & $\dfrac{30}{40} = 0.75$ & $\dfrac{15}{50} = 0.30$ & $\dfrac{30}{15} = 2.00$ & $0.88$ \\ 
		  $\textbf{NEW2}$ & $\dfrac{30}{20}=1.50$ & $\dfrac{60}{40} = 1.50$ & $\dfrac{20}{50} = 0.40$ & $\dfrac{20}{15} = 1.33$ & $1.18$ \\ 
		  $\textbf{NEW3}$ & $\dfrac{70}{20}=3.50$ & $\dfrac{30}{40} = .875$ & $\dfrac{30}{50} = 0.60$ & $\dfrac{10}{15} = 0.67$ & $1.41$ \\
	      \bottomrule
	    \end{tabular}
	    \caption{ Relativise Energy Values }
	  \end{table}

	  Thus the system $\textbf{NEW1}$ has the least energy consumption.

	  \paragraph{Power: } From the defnition of power as
	  	\[
			Power = \dfrac{Energy}{Time} 
		\]

		we can construct the table for $power$ consumption using the corresponding values of energy and execution-times from the given tables using the above equation. Table ~\ref{tab:abs-power} shows the above construction

	\begin{table}[!ht]
	    \centering
	    \fontfamily{ppl}\selectfont
		\renewcommand{\arraystretch}{3.0}
		\label{tab:abs-power}
	    \begin{tabular}{c|c|c|c|c}
	      \toprule
		  \multicolumn{5}{|c|}{System Power(W)}  \\
	      \midrule 
		  $\textbf{System}$ & $\textbf{A}$ & $\textbf{B}$ & $\textbf{C}$ & $\textbf{D}$ \\  % = \dfrac{1}{4}\sum_{i=1}^4 w_i x_i$ 
		  $\textbf{BASE}$ & $\dfrac{20}{3}=6.67$ & $\dfrac{40}{2.5} = 16$ & $\dfrac{50}{1} = 50$ & $\dfrac{15}{12}$ \\ 
		  $\textbf{NEW1}$ & $\dfrac{10}{7}=1.43$ & $\dfrac{30}{3} = 10$ & $\dfrac{15}{5} = 3$ & $\dfrac{30}{1} = 30$ \\ 
		  $\textbf{NEW2}$ & $\dfrac{30}{2}=15$ & $\dfrac{60}{1} = 60$ & $\dfrac{20}{3} = 6.67$ & $\dfrac{20}{8} = 2.5$ \\ 
		  $\textbf{NEW3}$ & $\dfrac{70}{1}=70$ & $\dfrac{35}{3} = 11.67$ & $\dfrac{30}{2} = 15$ & $\dfrac{10}{13} = 0.77$ \\
	      \bottomrule
	    \end{tabular}
	    \caption{ System Power }
	  \end{table}


\section{$\textbf{1. Optimizing CPU Time}$}
	Let the total instruction count be $x$. Thus we have the following count of instructions per type of instructions
	\begin{eqnarray*}
		\mbox{Load} &=& 0.1 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.2x \\
		\mbox{Store} &=& 0.05 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.05x \\
		\mbox{Branch} &=& 0.05 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.1x \\
		\mbox{ADD} &=& 0.3 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.3x \\
		\mbox{MULT} &=& 0.5 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 2x \\
	\end{eqnarray*}

	Thus the Old CPI will be 
	\[\mbox{CPI}_{old} = \dfrac{0.2x + 0.05x + 0.1x + 0.3x + 2x}{x} = 2.65 \]

	Hence, the old IPC will be
	\[\mbox{IPC}_{old} = \dfrac{1}{2.65} = 0.377 \]

	Given that $60\%$ of the MULT instructions could be combined with ADD, we observe that $60\%$ of the MULT instructions is $\textbf{0.3x}$. Thus all the ADD instructions get combined with the MULT instructions , leaving $0.2x$ MULT instructions that are unfused. Thus, the new bunch of instrcutions and their cycle count will be as follows
	\begin{eqnarray*}
		\mbox{Load} &=& 0.1 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.2x \\
		\mbox{Store} &=& 0.05 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.05x \\
		\mbox{Branch} &=& 0.05 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.1x \\
		\mbox{MULT} &=& 0.2 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 0.8x \\
		\mbox{FMAD} &=& 0.3 x, \quad\mbox{and}, \quad\mbox{\# cycles = } 1.2x \\
	\end{eqnarray*}

	Thus the New CPI will be
	\[\mbox{CPI}_{new} = \dfrac{0.2x + 0.05x + 0.1x + 0.8x + 1.2x}{0.1x + 0.05x + 0.05x + 0.2x + 0.3x} = 3.35 \]

	Hence, the new IPC will be
	\[\mbox{IPC}_{new} = \dfrac{1}{3.35} = 0.29 \]

	Old execution time can be evaluated as
	\[Exec_{old} = CPI_{old} \times IC_{old} \times CT = 2.65x \times CT\]
	New execution time can be evaluated as
	\[Exec_{new} = CPI_{new} \times IC_{new} \times CT = \dfrac{2.35x}{0.7x} \times 0.7x \times CT\]

	Hence, 
	\[
		Speed-up = \dfrac{Exec_{old}}{Exec_{new}} = \dfrac{2.65x}{2.35x} = 1.127
	\]

	Thus there is a net speedup of $1.127$ using $FMAD$.

  \bibliography{cs6810}
  \bibliographystyle{plainnat}
  
  \end{document}
